(function(){angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(b,a){this.scope=b;b.$element=a;b.$modelValue=null;b.$nodeScope=null;b.$treeScope=null;b.$type="uiTreeNodes";b.$nodesMap={};b.nodropEnabled=false;b.maxDepth=0;b.cloneEnabled=false;b.initSubNode=function(c){if(!c.$modelValue){return null}b.$nodesMap[c.$modelValue.$$hashKey]=c};b.destroySubNode=function(c){if(!c.$modelValue){return null}b.$nodesMap[c.$modelValue.$$hashKey]=null};b.accept=function(d,c){return b.$treeScope.$callbacks.accept(d,b,c)};b.beforeDrag=function(c){return b.$treeScope.$callbacks.beforeDrag(c)};b.isParent=function(c){return c.$parentNodesScope==b};b.hasChild=function(){return b.$modelValue.length>0};b.safeApply=function(d){var c=this.$root.$$phase;if(c=="$apply"||c=="$digest"){if(d&&(typeof(d)==="function")){d()}}else{this.$apply(d)}};b.removeNode=function(d){var c=b.$modelValue.indexOf(d.$modelValue);if(c>-1){b.safeApply(function(){b.$modelValue.splice(c,1)[0]});return b.$treeScope.$callbacks.removed(d)}return null};b.insertNode=function(d,c){b.safeApply(function(){b.$modelValue.splice(d,0,c)})};b.childNodes=function(){var d,c=[];if(b.$modelValue){for(d=0;d<b.$modelValue.length;d++){c.push(b.$nodesMap[b.$modelValue[d].$$hashKey])}}return c};b.depth=function(){if(b.$nodeScope){return b.$nodeScope.depth()}return 0};b.outOfDepth=function(c){var d=b.maxDepth||b.$treeScope.maxDepth;if(d>0){return b.depth()+c.maxSubDepth()+1>d}return false}}])})();