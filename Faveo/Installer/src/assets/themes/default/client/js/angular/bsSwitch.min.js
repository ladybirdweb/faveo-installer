"use strict";angular.module("frapontillo.bootstrap-switch",[]).directive("bsSwitch",function(c,a){return{restrict:"A",require:"ngModel",link:function b(t,j,r,l){var n=false;var f=function(){if(r.type==="radio"){return r.value||c(r.ngValue)(t)||true}var u=(c(r.ngTrueValue)(t));if(angular.isUndefined(u)){u=true}return u};var g=function(u){return t.$eval(u)===true};var o=function(u){return(u===true||u==="true"||!u)};var k=function(u){return(u?u:undefined)};var q=function(u){if(angular.isUndefined(u)){return angular.noop}return function(){t.$evalAsync(u)}};var i=function(v){var w={switchRadioOff:o,switchActive:function(x){return !o(x)},switchAnimate:o,switchLabel:function(x){return x?x:"&nbsp;"},switchIcon:function(x){if(x){return"<span class='"+x+"'></span>"}},switchWrapper:function(x){return x||"wrapper"},switchInverse:g,switchReadonly:g,switchChange:q};var u=w[v]||k;return u(r[v])};var p=function(v,u,x){if(!n){return}var w=i(x);v.bootstrapSwitch(u,w)};var d=function(){p(j,"disabled","switchActive")};var s=function(){if(!n){var u=(l.$modelValue===f());n=!n;j.bootstrapSwitch({radioAllOff:i("switchRadioOff"),disabled:i("switchActive"),state:u,onText:i("switchOnText"),offText:i("switchOffText"),onColor:i("switchOnColor"),offColor:i("switchOffColor"),animate:i("switchAnimate"),size:i("switchSize"),labelText:r.switchLabel?i("switchLabel"):i("switchIcon"),wrapperClass:i("switchWrapper"),handleWidth:i("switchHandleWidth"),labelWidth:i("switchLabelWidth"),inverse:i("switchInverse"),readonly:i("switchReadonly")});if(r.type==="radio"){l.$setViewValue(l.$modelValue)}else{l.$setViewValue(u);l.$formatters[0]=function(v){if(v===undefined||v===null){return v}return angular.equals(v,f())}}}};var m=i("switchChange");var e=function(){r.$observe("switchActive",function(y){var x=o(y);if(!x){a(d)}else{d()}});l.$render=function(){s();j.bootstrapSwitch("disabled","");var x=l.$modelValue;if(x!==undefined&&x!==null){j.bootstrapSwitch("state",x===f(),true)}else{j.bootstrapSwitch("indeterminate",true,true);l.$setViewValue(undefined)}d();m()};var w={switchRadioOff:"radioAllOff",switchOnText:"onText",switchOffText:"offText",switchOnColor:"onColor",switchOffColor:"offColor",switchAnimate:"animate",switchSize:"size",switchLabel:"labelText",switchIcon:"labelText",switchWrapper:"wrapperClass",switchHandleWidth:"handleWidth",switchLabelWidth:"labelWidth",switchInverse:"inverse",switchReadonly:"readonly"};var u=function(y,x){return function(){r.$observe(y,function(){p(j,x[y],y)})}};for(var v in w){r.$observe(v,u(v,w))}};var h=function(){if(r.type==="radio"){j.on("change.bootstrapSwitch",function(u){if((l.$modelValue===l.$viewValue)&&(u.target.checked!==$(u.target).bootstrapSwitch("state"))){if(u.target.checked){l.$setViewValue(f())}else{if(f()===l.$viewValue){l.$setViewValue(undefined)}}m()}})}else{j.on("switchChange.bootstrapSwitch",function(u){l.$setViewValue(u.target.checked);m()})}};h();e();t.$on("$destroy",function(){j.bootstrapSwitch("destroy")})}}}).directive("bsSwitch",function(){return{restrict:"E",require:"ngModel",template:"<input bs-switch>",replace:true}});