"format global";"deps angular";"deps moment";!function(){function b(d,c){return d.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",c).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(a,j,i,h,g){return function(P,O,N){function M(){var l;if(h.serverTime){var k=(new Date).getTime(),m=k-B+h.serverTime;l=j(m)}else{l=j()}return l}function L(){F&&(a.clearTimeout(F),F=null)}function K(k){if(O.text(k.from(M(),D)),C&&!O.attr("title")&&O.attr("title",k.local().format(C)),!f){var m=Math.abs(M().diff(k,"minute")),l=3600;1>m?l=1:60>m?l=30:180>m&&(l=300),F=a.setTimeout(function(){K(k)},1000*l)}}function J(k){e&&O.attr("datetime",k)}function I(){if(L(),H){var k=i.preprocessDate(H,A,E);K(k),J(k.toISOString())}}var H,G,F=null,E=g.format,D=h.withoutSuffix,C=h.titleFormat,B=(new Date).getTime(),A=g.preprocess,z=N.amTimeAgo.replace(/^::/,""),f=0===N.amTimeAgo.indexOf("::"),e="TIME"===O[0].nodeName.toUpperCase();G=P.$watch(z,function(k){return"undefined"==typeof k||null===k||""===k?(L(),void (H&&(O.text(""),J(""),H=null))):(H=k,I(),void (void 0!==k&&f&&G()))}),d.isDefined(N.amWithoutSuffix)&&P.$watch(N.amWithoutSuffix,function(k){"boolean"==typeof k?(D=k,I()):D=h.withoutSuffix}),N.$observe("amFormat",function(k){"undefined"!=typeof k&&(E=k,I())}),N.$observe("amPreprocess",function(k){A=k,I()}),P.$on("$destroy",function(){L()}),P.$on("amMoment:localeChanged",function(){I()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(a,h,g,f){this.preprocessors={utc:a.utc,unix:a.unix},this.changeLocale=function(j){var i=a.locale(j);return d.isDefined(j)&&h.$broadcast("amMoment:localeChanged"),i},this.preprocessDate=function(j,i,e){return d.isUndefined(i)&&(i=f.preprocess),this.preprocessors[i]?this.preprocessors[i](j,e):(i&&g.warn("angular-moment: Ignoring unsupported value for preprocess: "+i),!isNaN(parseFloat(j))&&isFinite(j)?a(parseInt(j,10)):a(j,e))},this.applyTimezone=function(i){var e=f.timezone;return i&&e&&(i.tz?i=i.tz(e):g.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),i}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(f,e,h){function g(j,i){if("undefined"==typeof j||null===j){return""}j=e.preprocessDate(j,i);var a=f(j);return a.isValid()?e.applyTimezone(a).calendar():""}return g.$stateful=h.statefulFilters,g}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(f,e,h){function g(k,j,i){if("undefined"==typeof k||null===k){return""}k=e.preprocessDate(k,i);var a=f(k);return a.isValid()?e.applyTimezone(a).format(j):""}return g.$stateful=h.statefulFilters,g}]).filter("amDurationFormat",["moment","angularMomentConfig",function(f,e){function g(a,i,h){return"undefined"==typeof a||null===a?"":f.duration(a,i).humanize(h)}return g.$stateful=e.statefulFilters,g}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(f,e,h){function g(k,j,i){if("undefined"==typeof k||null===k){return""}k=e.preprocessDate(k,j);var a=f(k);return a.isValid()?e.applyTimezone(a).fromNow(i):""}return g.$stateful=h.statefulFilters,g}])}"function"==typeof define&&define.amd?define("angular-moment",["angular","moment"],b):"undefined"!=typeof module&&module&&module.exports?b(angular,require("moment")):b(angular,window.moment)}();