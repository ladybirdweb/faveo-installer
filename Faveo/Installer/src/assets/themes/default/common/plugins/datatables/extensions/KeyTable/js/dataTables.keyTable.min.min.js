/*! KeyTable 1.2.1
 * Â©2010-2014 SpryMedia Ltd - datatables.net/license
 */
var KeyTable;(function(h,f,g){var e=function(a,b){KeyTable=function(W){this.block=false;this.event={remove:{}};this.fnGetCurrentPosition=function(){return[au,aw]};this.fnGetCurrentData=function(){return ae.innerHTML};this.fnGetCurrentTD=function(){return ae};this.fnSetPosition=function(j,i){if(typeof j=="object"&&j.nodeName){av(j)}else{av(P(j,i))}};this.fnBlur=function(){ak()};var aq=null;var ae=null;var au=null;var aw=null;var c=null;var an="focus";var ag=false;var U={action:[],esc:[],focus:[],blur:[]};var ar=null;var ac;var S;var R=false;function T(i){return function(m,j,k){if((m===null||typeof m=="number")&&(j===null||typeof j=="number")&&typeof k=="function"){ad(i,m,j,k)}else{if(typeof m=="object"&&typeof j=="function"){var l=aj(m);ad(i,l[0],l[1],j)}else{alert("Unhandable event type was added: x"+m+"  y:"+j+"  z:"+k)}}}}function at(i){return function(m,j,k){if((m===null||typeof arguments[0]=="number")&&(j===null||typeof arguments[1]=="number")){if(typeof arguments[2]=="function"){d(i,m,j,k)}else{d(i,m,j)}}else{if(typeof arguments[0]=="object"){var l=aj(m);if(typeof arguments[1]=="function"){d(i,l[0],l[1],j)}else{d(i,l[0],l[1])}}else{alert("Unhandable event type was removed: x"+m+"  y:"+j+"  z:"+k)}}}}for(var aa in U){if(aa){this.event[aa]=T(aa);this.event.remove[aa]=at(aa)}}function ad(i,l,j,k){U[i].push({x:l,y:j,fn:k})}function d(i,n,j,l){var k=0;for(var m=0,o=U[i].length;m<o-k;m++){if(typeof l!="undefined"){if(U[i][m-k].x==n&&U[i][m-k].y==j&&U[i][m-k].fn==l){U[i].splice(m-k,1);k++}}else{if(U[i][m-k].x==n&&U[i][m-k].y==j){U[i].splice(m,1);return 1}}}return k}function Y(i,n,j){var k=0;var m=U[i];for(var l=0;l<m.length;l++){if((m[l].x==n&&m[l].y==j)||(m[l].x===null&&m[l].y==j)||(m[l].x==n&&m[l].y===null)||(m[l].x===null&&m[l].y===null)){m[l].fn(P(n,j),n,j);k++}}return k}function av(o,u){if(ae==o){return}if(typeof u=="undefined"){u=true}if(ae!==null){X(ae)}a(o).addClass(an);a(o).parent().addClass(an);var r;if(ar){r=ar;var l=ap(o)[1];var k=ag;while(l>=r.fnDisplayEnd()){if(r._iDisplayLength>=0){if(r._iDisplayStart+r._iDisplayLength<r.fnRecordsDisplay()){r._iDisplayStart+=r._iDisplayLength}}else{r._iDisplayStart=0}ar.oApi._fnCalculateEnd(r)}while(l<r._iDisplayStart){r._iDisplayStart=r._iDisplayLength>=0?r._iDisplayStart-r._iDisplayLength:0;if(r._iDisplayStart<0){r._iDisplayStart=0}ar.oApi._fnCalculateEnd(r)}ar.oApi._fnDraw(r);ag=k}var n=aj(o);ae=o;au=n[0];aw=n[1];var j,v,p,m,t,s,i;if(u){j=a(h).height();v=a(h).width();p=a(f).scrollTop();m=a(f).scrollLeft();t=o.offsetHeight;s=o.offsetWidth;i=ab(o);if(ar&&typeof r.oScroll!="undefined"&&(r.oScroll.sX!==""||r.oScroll.sY!=="")){i[1]-=a(r.nTable.parentNode).scrollTop();i[0]-=a(r.nTable.parentNode).scrollLeft()}if(i[1]+t>p+j){Z(i[1]+t-j)}else{if(i[1]<p){Z(i[1])}}if(i[0]+s>m+v){am(i[0]+s-v)}else{if(i[0]<m){am(i[0])}}}if(ar&&typeof r.oScroll!="undefined"&&(r.oScroll.sX!==""||r.oScroll.sY!=="")){var q=r.nTable.parentNode;j=q.clientHeight;v=q.clientWidth;p=q.scrollTop;m=q.scrollLeft;t=o.offsetHeight;s=o.offsetWidth;if(o.offsetTop+t>j+p){q.scrollTop=(o.offsetTop+t)-j}else{if(o.offsetTop<p){q.scrollTop=o.offsetTop}}if(o.offsetLeft+s>v+m){q.scrollLeft=(o.offsetLeft+s)-v}else{if(o.offsetLeft<m){q.scrollLeft=o.offsetLeft}}}Q();Y("focus",au,aw)}function ak(){X(ae);au=null;aw=null;ae=null;ai()}function X(i){a(i).removeClass(an);a(i).parent().removeClass(an);Y("blur",au,aw)}function af(j){var i=this;while(i.nodeName!="TD"){i=i.parentNode}av(i);Q()}function ao(j){if(c.block||!ag){return true}if(j.metaKey||j.altKey||j.ctrlKey){return true}var n,i,k=aq.getElementsByTagName("tr")[0].getElementsByTagName("td").length,o;if(ar){o=ar.aiDisplay.length;var l=ap(ae);if(l===null){return}au=l[0];aw=l[1]}else{o=aq.getElementsByTagName("tr").length}var m=(j.keyCode==9&&j.shiftKey)?-1:j.keyCode;switch(m){case 13:j.preventDefault();j.stopPropagation();Y("action",au,aw);return true;case 27:if(!Y("esc",au,aw)){ak();return}n=au;i=aw;break;case -1:case 37:if(au>0){n=au-1;i=aw}else{if(aw>0){n=k-1;i=aw-1}else{if(m==-1&&ac){R=true;S.focus();setTimeout(function(){R=false},0);ag=false;ak();return true}else{return false}}}break;case 38:if(aw>0){n=au;i=aw-1}else{return false}break;case 36:n=au;i=0;break;case 33:n=au;i=aw-10;if(i<0){i=0}break;case 9:case 39:if(au<k-1){n=au+1;i=aw}else{if(aw<o-1){n=0;i=aw+1}else{if(m==9&&ac){R=true;S.focus();setTimeout(function(){R=false},0);ag=false;ak();return true}else{return false}}}break;case 40:if(aw<o-1){n=au;i=aw+1}else{return false}break;case 35:n=au;i=o-1;break;case 34:n=au;i=aw+10;if(i>o-1){i=o-1}break;default:return true}av(P(n,i));return false}function Q(){if(!ag){ag=true}}function ai(){ag=false}function P(j,i){if(ar){if(typeof ar.aoData[ar.aiDisplay[i]]!="undefined"){return ar.aoData[ar.aiDisplay[i]].nTr.getElementsByTagName("td")[j]}else{return null}}else{return a("tr:eq("+i+")>td:eq("+j+")",aq)[0]}}function aj(i){if(ar){return[a("td",i.parentNode).index(i),a("tr",i.parentNode.parentNode).index(i.parentNode)+ar._iDisplayStart]}else{return[a("td",i.parentNode).index(i),a("tr",i.parentNode.parentNode).index(i.parentNode)]}}function Z(i){f.documentElement.scrollTop=i;f.body.scrollTop=i}function am(i){f.documentElement.scrollLeft=i;f.body.scrollLeft=i}function ab(i){var j=0;var k=0;if(i.offsetParent){j=i.offsetLeft;k=i.offsetTop;i=i.offsetParent;while(i){j+=i.offsetLeft;k+=i.offsetTop;i=i.offsetParent}}return[j,k]}function ap(i){for(var l=0,o=ar.aiDisplay.length;l<o;l++){var j=ar.aoData[ar.aiDisplay[l]].nTr;var n=j.getElementsByTagName("td");for(var m=0,k=n.length;m<k;m++){if(n[m]==i){return[m,l]}}}return null}function ah(i,l,m,j){c=j;if(typeof m=="undefined"){m={}}if(typeof m.focus=="undefined"){m.focus=[0,0]}m.table=i;a(m.table).addClass("KeyTable");if(typeof m.focusClass!="undefined"){an=m.focusClass}if(typeof l!="undefined"){ar=l}if(typeof m.initScroll=="undefined"){m.initScroll=true}if(typeof m.form=="undefined"){m.form=false}ac=m.form;aq=m.table.getElementsByTagName("tbody")[0];if(ac){var k=f.createElement("div");S=f.createElement("input");k.style.height="1px";k.style.width="0px";k.style.overflow="hidden";if(typeof m.tabIndex!="undefined"){S.tabIndex=m.tabIndex}k.appendChild(S);m.table.parentNode.insertBefore(k,m.table.nextSibling);a(S).focus(function(){if(!R){ag=true;R=false;if(typeof m.focus.nodeName!="undefined"){av(m.focus,m.initScroll)}else{av(P(m.focus[0],m.focus[1]),m.initScroll)}setTimeout(function(){S.blur()},0)}});ag=false}else{if(typeof m.focus.nodeName!="undefined"){av(m.focus,m.initScroll)}else{av(P(m.focus[0],m.focus[1]),m.initScroll)}Q()}a(f).bind("keydown",ao);if(ar){a(ar.nTable).on("click","td",af)}else{a(aq).on("click","td",af)}a(f).click(function(o){var n=o.target;var p=false;while(n){if(n==m.table){p=true;break}n=n.parentNode}if(!p){ak()}})}var V,al;if(W===g){V=a("table.KeyTable")[0];al=null}else{if(a.isPlainObject(W)){V=W.table;al=W.datatable}else{al=new a.fn.dataTable.Api(W).settings()[0];V=al.nTable}}ah(V,al,W,this)};KeyTable.version="1.2.1";a.fn.dataTable.KeyTable=KeyTable;a.fn.DataTable.KeyTable=KeyTable;return KeyTable};if(typeof define==="function"&&define.amd){define(["jquery","datatables"],e)}else{if(typeof exports==="object"){e(require("jquery"),require("datatables"))}else{if(jQuery&&!jQuery.fn.dataTable.KeyTable){e(jQuery,jQuery.fn.dataTable)}}}})(window,document);